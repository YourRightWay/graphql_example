import Express from 'express';import morgan from 'morgan';import expressGraphQL from 'express-graphql';import { errorHandler } from './middlewares';import serverConfig from './config';import schema from './schema';// webpackimport webpack from 'webpack';import config from '../webpack.config.dev';import webpackDevMiddleware from 'webpack-dev-middleware';import webpackHotMiddleware from 'webpack-hot-middleware';const app = new Express();if (process.env.NODE_ENV === 'development') {  const compiler = webpack(config);  app.use(webpackDevMiddleware(compiler, { noInfo: true, publicPath: config.output.publicPath }));  app.use(webpackHotMiddleware(compiler));  app.use(morgan('common'));}app.use('/graphql',  expressGraphQL({    schema,    graphiql: true  }));app.use(errorHandler);app.listen(serverConfig.port, (err) => {  if (err) throw err;  console.log(`Delivery soft is running on port: ${serverConfig.port}!`);});export default app;